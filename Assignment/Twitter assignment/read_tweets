import gzip
import os

import argparse
import datetime
import requests
import  urllib,json
from requests_oauthlib import OAuth1

parser = argparse.ArgumentParser()
parser.add_argument("--s",dest="searchterm", type=str,
                    help="input a search term")
parser.add_argument("--c",dest="count", type=int,
                    help="input number of tweets")
parser.add_argument("--v",help="input a search term using --s and number of counts using --c")
args = parser.parse_args()
answer = args.searchterm
print(answer)
#print(args.accumulate(args.square))
dt=str(datetime.date.today()).replace('-','')

directory='/'
if not os.path.exists(directory+'/'+str(answer)):
    os.makedirs(directory+'/'+str(answer))
    if not os.path.exists(directory+'/'+str(answer)+'/'+dt):
        os.makedirs(directory+'/'+str(answer)+'/'+str(dt))


'''url = 'https://api.twitter.com/1.1/account/verify_credentials.json'
oauth = OAuth1('agSoBzGNJ0CIgM22ejyyYNHVA', 'KvQHO1k62Si4384scHddoEJFDTraSP9XZzbgZudLnOr0bpWyOn',
    '2326494187-2fQmHdhfUEP7DuBMnFMcakQJi4aoHSHLSzRbXZk', 'pH523gAixrlOn9LlvU39cPwrPcI3TlJydpb8S0gHc5GC7'
            
                  )
rq=requests.get(url, auth=oauth)
print(rq)

r=requests.get('https://api.twitter.com/1.1/search/tweets.json?q='+str(answer)+'&count=1',auth=oauth)
r.json()'''
#json.dump(r.json(),'C:\Users\kmohan\Documents\Tweets.json')
